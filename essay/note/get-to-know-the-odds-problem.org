* get-to-know-the-odds-problem
#+TITLE: 初探赔率问题
NOTE（dirlt）：2012.6.14

昨天大家说做一个赌球赔率系统，晚上Hai教我了一些基本的东西。

所有这里讨论的赔率问题都是0-1模型的，就是众多结果中的话只有一个是成功的，其他都是失败的。好比小组赛Germany vs. Spanish,我们可以设置不同的盘口来符合0-1模型。比如：
   - win draw lose，
   - Germany净胜球超过3个, >1 && <=3, <=1

考虑下面有N个盘口，各个盘口的赔率分别是1:b{i}.如果庄家不抽水的话，那么赔率的倒数相加是=1的，而每个赔率的倒数就是这个盘口出现的概率。比如今天晚上意大利 vs. 克罗地亚，赔率是
   - win 2.22
   - draw 3.16
   - lose 3.30
折合计算概率就是
   - win 0.45
   - draw 0.32
   - lose 0.3
概率加起来0.45+0.32+0.3=1.07(>1说明庄家在抽水，越大说明抽水越多).

如果我们知道各个盘口的金额的话，那么可以很容易地设计一个赔率让庄家抽水，可以参看这篇文章 http://bbs.178.com/viewthread.php?tid=329140 。方法非常简单，我们考虑两个ab球队，分别赌注N,M.假设我们希望抽水K的话，
   - 如果a win,那么我们希望只是输掉(M-K).所以赔率应该是1:1+(M-K)/N
   - 如果b win,那么我们希望只是输掉(N-K).所以赔率应该是1:1+(N-K)/M
但是赔率至少应该有得赚，所以M-K>0 && N-K>0.因此K

--------------------

但是现实中存在下面一些问题：

   - 如何bootstrap呢?（设定初始赔率）。NOTE（dirlt）：我们可以首先计算出双方获胜概率p,计算出赔率1/p.为了抽水了降低赔率比如1/p*0.9.这样最后概率计算出来就会是1/0.9了。
   - 如果某一方没有压钱的话，那么相当于是庄家自己在赌博。
   - 现实生活中是先看到赔率然后再下手的，下手之后这笔钱对应的赔率应该是不变的。而我们设计的模型是假设钱都已经到位了之后，我们再来定义赔率。

